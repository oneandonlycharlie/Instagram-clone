import { Link } from 'react-router-dom'
import '../styles/nav.css'
import InstagramLogo from "../assets/logoWhite.svg"

function Nav({openWindow,user,setLogin}){

const handleLogOut = ()=>{
    fetch("http://instagram-clone-backend-production.up.railway.app/account/logout",{
        method:"GET",
        credentials: 'include'
    })
        .then((res)=> res.json())
        .then((res)=>{
            console.log(res)
            setLogin(res)})

    console.log("logged out")
}
    return (
        <>
        <div className="mobile-header">
            <img src={InstagramLogo} alt="" height={80}/>
            <button
                onClick={handleLogOut}
            >Log out</button>
        </div>
        <svg className='nav-logo' 
            aria-label="Instagram" 
            fill="white" 
            height="24" role="img" 
            viewBox="0 0 24 24" 
            width="24">
                <title>Instagram</title>
                <path d="M12 2.982c2.937 0 3.285.011 4.445.064a6.087 6.087 0 0 1 2.042.379 3.408 3.408 0 0 1 1.265.823 3.408 3.408 0 0 1 .823 1.265 6.087 6.087 0 0 1 .379 2.042c.053 1.16.064 1.508.064 4.445s-.011 3.285-.064 4.445a6.087 6.087 0 0 1-.379 2.042 3.643 3.643 0 0 1-2.088 2.088 6.087 6.087 0 0 1-2.042.379c-1.16.053-1.508.064-4.445.064s-3.285-.011-4.445-.064a6.087 6.087 0 0 1-2.043-.379 3.408 3.408 0 0 1-1.264-.823 3.408 3.408 0 0 1-.823-1.265 6.087 6.087 0 0 1-.379-2.042c-.053-1.16-.064-1.508-.064-4.445s.011-3.285.064-4.445a6.087 6.087 0 0 1 .379-2.042 3.408 3.408 0 0 1 .823-1.265 3.408 3.408 0 0 1 1.265-.823 6.087 6.087 0 0 1 2.042-.379c1.16-.053 1.508-.064 4.445-.064M12 1c-2.987 0-3.362.013-4.535.066a8.074 8.074 0 0 0-2.67.511 5.392 5.392 0 0 0-1.949 1.27 5.392 5.392 0 0 0-1.269 1.948 8.074 8.074 0 0 0-.51 2.67C1.012 8.638 1 9.013 1 12s.013 3.362.066 4.535a8.074 8.074 0 0 0 .511 2.67 5.392 5.392 0 0 0 1.27 1.949 5.392 5.392 0 0 0 1.948 1.269 8.074 8.074 0 0 0 2.67.51C8.638 22.988 9.013 23 12 23s3.362-.013 4.535-.066a8.074 8.074 0 0 0 2.67-.511 5.625 5.625 0 0 0 3.218-3.218 8.074 8.074 0 0 0 .51-2.67C22.988 15.362 23 14.987 23 12s-.013-3.362-.066-4.535a8.074 8.074 0 0 0-.511-2.67 5.392 5.392 0 0 0-1.27-1.949 5.392 5.392 0 0 0-1.948-1.269 8.074 8.074 0 0 0-2.67-.51C15.362 1.012 14.987 1 12 1Zm0 5.351A5.649 5.649 0 1 0 17.649 12 5.649 5.649 0 0 0 12 6.351Zm0 9.316A3.667 3.667 0 1 1 15.667 12 3.667 3.667 0 0 1 12 15.667Zm5.872-10.859a1.32 1.32 0 1 0 1.32 1.32 1.32 1.32 0 0 0-1.32-1.32Z"></path>
        </svg>
        <img className='nav-full-logo'src={InstagramLogo} alt="" height={100}/>
        <Link to="/">
            <svg className='home'
                aria-label="Home" 
                fill="white" 
                height="20"
                viewBox="0 0 24 24" 
                width="20">
                    <title>Home</title>
                    <path d="M22 23h-6.001a1 1 0 0 1-1-1v-5.455a2.997 2.997 0 1 0-5.993 0V22a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V11.543a1.002 1.002 0 0 1 .31-.724l10-9.543a1.001 1.001 0 0 1 1.38 0l10 9.543a1.002 1.002 0 0 1 .31.724V22a1 1 0 0 1-1 1Z"></path>
            </svg>
            <span></span>
        </Link>
        <Link to="/explore">
            <svg className='explore-button' 
                aria-label="Explore" 
                fill="white" 
                height="22" 
                viewBox="0 0 22 24 " 
                width="22">
                    <title>Explore</title>
                    <polygon fill="none" points="13.941 13.953 7.581 16.424 10.06 10.056 16.42 7.585 13.941 13.953" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></polygon>
                    <circle cx="12.001" cy="12.005" fill="none" r="10.5" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></circle>
            </svg>
            <span></span>
        </Link>
        <button className='create-button'
                onClick={openWindow}
        >
            <svg className='create-button'
                aria-label="New post" 
                height="20" 
                viewBox="0 0 24 24" 
                width="20"
                fill='white'>
                    <title>New post</title>
                    <path d="M2 12v3.45c0 2.849.698 4.005 1.606 4.944.94.909 2.098 1.608 4.946 1.608h6.896c2.848 0 4.006-.7 4.946-1.608C21.302 19.455 22 18.3 22 15.45V8.552c0-2.849-.698-4.006-1.606-4.945C19.454 2.7 18.296 2 15.448 2H8.552c-2.848 0-4.006.699-4.946 1.607C2.698 4.547 2 5.703 2 8.552Z" fill="" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
                    <line fill="none" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" x1="6.545" x2="17.455" y1="12.001" y2="12.001"></line>
                    <line fill="none" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" x1="12.003" x2="12.003" y1="6.545" y2="17.455"></line>
            </svg>
            <span></span>
        </button>
        <Link to={"/profile/"}>                                      
            <img className='nav-avatar'src={user.avatar} alt="" />
            <span></span>
        </Link>
        <button className='log-out'
            onClick={handleLogOut}
        >Log out</button>
        </>
    )

}

export default Nav